H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\data\\Student.java
package data;

import java.io.Serializable;
import java.util.HashMap;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): PACKAGE_NAME
 * Class(ç±»å): data.Student
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 21:18
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š å­¦ç”Ÿçš„æ•°æ®ç±»
 */

public class Student implements Serializable  //å®ç°åºåˆ—åŒ–æ¥å£
{
    private long no;            //å­¦å·ï¼Œä¸»é”®ï¼Œä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºè´Ÿæ•°
    private String name;        //åå­—
    private HashMap<String, Float> map;  //mapé›†åˆï¼Œå…¸å‹çš„çš„ä¸€å¯¹å¤šå…³ç³»ï¼Œä¸€ä¸ªå­¦ç”Ÿæœ‰å¤šä¸ªæˆç»©
    //é”®ä¸ºå…·ä½“ç§‘ç›®çš„åç§°ï¼Œå€¼ä¸ºåˆ†æ•°ï¼Œåˆ†æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼Œæœ€é«˜åˆ†æœªçŸ¥ï¼Œè¿™é‡Œä¸åŠ é™åˆ¶
    //Mapæ¥å£çš„åŸºäºå“ˆå¸Œè¡¨çš„å®ç°ã€‚ æ­¤å®ç°æä¾›äº†æ‰€æœ‰å¯é€‰çš„æ˜ å°„æ“ä½œï¼Œå¹¶å…è®¸nullå€¼å’Œnullé”®ã€‚
    // ï¼ˆ HashMapç±»å¤§è‡´ç›¸å½“äºHashtable ï¼Œé™¤äº†å®ƒæ˜¯ä¸åŒæ­¥çš„å¹¶ä¸”å…è®¸ç©ºå€¼ã€‚ï¼‰è¿™ä¸ªç±»ä¸ä¿è¯æ˜ å°„çš„é¡ºåºï¼›
    // ç‰¹åˆ«æ˜¯ï¼Œå®ƒä¸ä¿è¯è®¢å•ä¼šéšç€æ—¶é—´çš„æ¨ç§»ä¿æŒä¸å˜ã€‚
    //æ­¤å®ç°ä¸ºåŸºæœ¬æ“ä½œï¼ˆ getå’Œput ï¼‰æä¾›æ’å®šæ—¶é—´æ€§èƒ½ï¼Œå‡è®¾æ•£åˆ—å‡½æ•°åœ¨æ¡¶ä¸­æ­£ç¡®åˆ†æ•£å…ƒç´ ã€‚
    // è¿­ä»£é›†åˆè§†å›¾éœ€è¦çš„æ—¶é—´ä¸HashMapå®ä¾‹çš„â€œå®¹é‡â€ï¼ˆæ¡¶çš„æ•°é‡ï¼‰åŠ ä¸Šå®ƒçš„å¤§å°ï¼ˆé”®å€¼æ˜ å°„çš„æ•°é‡ï¼‰æˆæ­£æ¯”ã€‚
    // å› æ­¤ï¼Œå¦‚æœè¿­ä»£æ€§èƒ½å¾ˆé‡è¦ï¼Œåˆ™ä¸è¦å°†åˆå§‹å®¹é‡è®¾ç½®å¾—å¤ªé«˜ï¼ˆæˆ–è´Ÿè½½å› å­å¤ªä½ï¼‰ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚
    //HashMapçš„å®ä¾‹æœ‰ä¸¤ä¸ªå½±å“å…¶æ€§èƒ½çš„å‚æ•°ï¼šåˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ã€‚ å®¹é‡æ˜¯å“ˆå¸Œè¡¨ä¸­çš„æ¡¶æ•°ï¼Œåˆå§‹å®¹é‡å°±æ˜¯å“ˆå¸Œè¡¨åˆ›å»ºæ—¶çš„å®¹é‡ã€‚
    // è´Ÿè½½å› å­æ˜¯è¡¡é‡å“ˆå¸Œè¡¨åœ¨å…¶å®¹é‡è‡ªåŠ¨å¢åŠ ä¹‹å‰å…è®¸è¾¾åˆ°å¤šæ»¡çš„æŒ‡æ ‡ã€‚
    // å½“å“ˆå¸Œè¡¨ä¸­çš„æ¡ç›®æ•°è¶…è¿‡è´Ÿè½½å› å­å’Œå½“å‰å®¹é‡çš„ä¹˜ç§¯æ—¶ï¼Œé‡æ–°å“ˆå¸Œè¡¨ï¼ˆå³é‡å»ºå†…éƒ¨æ•°æ®ç»“æ„ï¼‰ï¼Œä½¿å“ˆå¸Œè¡¨å…·æœ‰å¤§çº¦ä¸¤å€çš„æ¡¶æ•°ã€‚


    //æ„é€ å‡½æ•°
    public Student()
    {
        map = new HashMap<>();
    }

    public Student(long no, String name)
    {
        if (no >= 0)
        {
            this.no = no;
        }
        else
        {
            this.no = 0;
        }
        this.name = name;
        map = new HashMap<>();
    }

    //getterå’Œsetteræ–¹æ³•
    public long getNo()
    {
        return no;
    }

    public void setNo(long no)
    {
        if (no >= 0)
        {
            this.no = no;
        }
        else
        {
            this.no = 0;
        }
    }

    public String getName()
    {
        return name;
    }

    public void setName(String name)
    {
        this.name = name;
    }

    public HashMap<String, Float> getMap()
    {
        return map;
    }

    public void setMap(HashMap<String, Float> map)
    {
        this.map = map;
    }

    @Override
    public boolean equals(Object o)
    {
        if (this == o)    //å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡
        {
            return true;
        }
        if (o == null)    //æ£€æµ‹objæ˜¯å¦ä¸ºnull
        {
            return false;
        }
        //if(!(otherObject instanceof ClassName)) //å¦‚æœæ‰€æœ‰çš„å­ç±»éƒ½æ‹¥æœ‰ç»Ÿä¸€çš„è¯­ä¹‰
        if (this.getClass() != o.getClass())   //æ¯”è¾ƒthisä¸objæ˜¯å¦å±äºåŒä¸€ä¸ªç±»
        {
            return false;
        }
        //Objectç±»å‘ä¸‹è½¬å‹
        Student student = (Student) o;

        if (no != student.no)
        {
            return false;
        }
        if (!name.equals(student.name))
        {
            return false;
        }
        return map.equals(student.map);
    }

    @Override
    public int hashCode()     //åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åºåˆ—ç 
    {
        int result = (int) (no ^ (no >>> 32));
        result = 31 * result + name.hashCode();
        result = 31 * result + map.hashCode();
        return result;
    }

    @Override
    @SuppressWarnings("all")
    public String toString()
    {
        final StringBuilder stringbuilder = new StringBuilder();
        stringbuilder.append("å­¦å·ï¼š").append(no).append("      ");
        stringbuilder.append("å§“åï¼š").append(name).append('\n');
        stringbuilder.append("åˆ†æ•°ï¼š").append(map).append('\n');
        return stringbuilder.toString();
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\data\\student_arraylist.java
package data;

import java.util.ArrayList;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): data
 * Class(ç±»å): student_arraylist
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 21:31
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ­¤ç±»å­˜æ”¾å­¦ç”Ÿæ•°ç»„
 */

public class student_arraylist
{
    private static ArrayList<Student> list = new ArrayList<>(); //ç¡®ä¿ä¸ä¸ºç©ºæŒ‡é’ˆå¼‚å¸¸
    //Listæ¥å£çš„å¯è°ƒæ•´å¤§å°çš„æ•°ç»„å®ç°ã€‚ å®ç°æ‰€æœ‰å¯é€‰çš„åˆ—è¡¨æ“ä½œï¼Œå¹¶å…è®¸æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬null ã€‚

    public static ArrayList<Student> getList()
    {
        return list;
    }

    public static void setList(ArrayList<Student> list)
    {
        student_arraylist.list = list;
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\io\\ErrorLog.java
package io;

import javax.swing.*;
import java.awt.*;
import java.io.*;
import java.nio.charset.StandardCharsets;
import java.text.DecimalFormat;
import java.util.Calendar;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): io
 * Class(ç±»å): ErrorLog
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 13:21
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class ErrorLog
{
    private static final String path = "error.log";  //é”™è¯¯æ—¥å¿—è·¯å¾„

    /**
     * æŠŠé”™è¯¯çš„å †æ ˆå­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶
     *
     * @param message å †æ ˆå­—ç¬¦ä¸²
     */
    public static void write(String message)
    {
        Calendar calendar = Calendar.getInstance();// è·å–å½“å‰æ—¶é—´
        int year = calendar.get(Calendar.YEAR);
        int month = calendar.get(Calendar.MONTH);
        month = month + 1;                         //æœˆä»½ä» 0 å¼€å§‹ï¼Œæ‰€ä»¥åŠ  1
        int day = calendar.get(Calendar.DATE);
        int week = calendar.get(Calendar.DAY_OF_WEEK);
        week = week - 1;                             //æ˜ŸæœŸæ—¥ä¸ºç¬¬ä¸€å¤©
        int hour = calendar.get(Calendar.HOUR_OF_DAY); //æ—¶
        int minute = calendar.get(Calendar.MINUTE);   //åˆ†
        int second = calendar.get(Calendar.SECOND);   //ç§’
        int millisecond = calendar.get(Calendar.MILLISECOND); //æ¯«ç§’
        int dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH); // è·å–ä»Šå¤©æ˜¯æœ¬æœˆç¬¬å‡ å¤©
        int dayOfWeekInMonth = calendar.get(Calendar.DAY_OF_WEEK_IN_MONTH); // è·å–ä»Šå¤©æ˜¯æœ¬æœˆç¬¬å‡ å‘¨
        int many = calendar.get(Calendar.DAY_OF_YEAR); // è·å–ä»Šå¤©æ˜¯ä»Šå¹´ç¬¬å‡ å¤©
        StringBuilder stringBuffer1 = new StringBuilder();
        DecimalFormat decimalFormat1 = new DecimalFormat("00");
        //stringBuffer1.append(year).append("å¹´ ").append(month).append("æœˆ ").append(day).append("æ—¥ ")
        // .append(hour).append("æ—¶ ").append(minute).append("åˆ† ").append(second).append("ç§’");
        stringBuffer1.append("æ—¥æœŸï¼š");
        stringBuffer1.append(decimalFormat1.format(year)).append("/").append(decimalFormat1.format(month)).append("/")
                .append(decimalFormat1.format(day)).append("    æ—¶é—´ï¼š").append(decimalFormat1.format(hour))
                .append(":").append(decimalFormat1.format(minute)).append(":").append(decimalFormat1.format(second));
        //System.out.println(stringBuffer1);
        stringBuffer1.append("        ä¸»æœºï¼š").append(System.getProperty("user.name"));
        stringBuffer1.append("        é”™è¯¯å †æ ˆï¼š\n");
        stringBuffer1.append(message);
        stringBuffer1.append("\n\n\n");

        //å†™å…¥
        FileOutputStream fileOutputStream = null;
        try                                  //æ–‡ä»¶æµæ‰“å¼€ï¼Œæ–‡ä»¶è¯»å†™
        {
            fileOutputStream = new FileOutputStream(path, true);
            fileOutputStream.write(stringBuffer1.toString().getBytes(StandardCharsets.UTF_8));
        }
        catch (FileNotFoundException e)      //æ–‡ä»¶æœªæ‰¾åˆ°
        {
            Toolkit.getDefaultToolkit().beep();
            System.err.println("æ–‡ä»¶æœªæ‰¾åˆ°ï¼ï¼ï¼  " + "\né”™è¯¯å†…å®¹ï¼š" + e.toString());
        }
        catch (Exception e)                  //å…¶å®ƒå¼‚å¸¸
        {
            Toolkit.getDefaultToolkit().beep();
            e.printStackTrace();
        }
        finally
        {
            try                              //å…³é—­æµ
            {
                if (fileOutputStream != null)
                {
                    fileOutputStream.close();
                }
            }
            catch (NullPointerException e)    //ç©ºæŒ‡é’ˆå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                System.err.println("æ–‡ä»¶å·²ç»è¢«å…³é—­ï¼Œæ— æ³•å†æ¬¡å…³é—­ï¼ï¼ï¼");
            }
            catch (Exception e)              //å…¶å®ƒå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                e.printStackTrace();
            }
        }
    }

    /**
     * ä»é”™è¯¯æ—¥å¿—é‡Œè¯»é”™è¯¯æ—¥å¿—
     *
     * @return å­—ç¬¦ä¸² é”™è¯¯æ—¥å¿—
     */
    public static String read()
    {
        FileInputStream fileInputStream = null;
        InputStreamReader InputStreamReader = null;
        BufferedReader bufferedReader = null;
        try                                  //æ–‡ä»¶æµæ‰“å¼€ï¼Œæ–‡ä»¶è¯»å†™
        {
            fileInputStream = new FileInputStream(path);
            InputStreamReader = new InputStreamReader(fileInputStream, StandardCharsets.UTF_8);
            bufferedReader = new BufferedReader(InputStreamReader);
            String str;
            StringBuilder stringBuilder = new StringBuilder();
            while ((str = bufferedReader.readLine()) != null)
            {
                stringBuilder.append(str).append("\n");
            }
            return stringBuilder.toString();
        }
        catch (FileNotFoundException e)      //æ–‡ä»¶æœªæ‰¾åˆ°
        {
            Toolkit.getDefaultToolkit().beep();
            System.err.println("æ–‡ä»¶æœªæ‰¾åˆ°ï¼ï¼ï¼  " + "\né”™è¯¯å†…å®¹ï¼š" + e.toString());
            final Writer result = new StringWriter();
            final PrintWriter printWriter = new PrintWriter(result);
            e.printStackTrace(printWriter);
            String stackTraceStr = result.toString();
            ErrorLog.write(stackTraceStr);
        }
        catch (Exception e)                  //å…¶å®ƒå¼‚å¸¸
        {
            Toolkit.getDefaultToolkit().beep();
            e.printStackTrace();
            final Writer result = new StringWriter();
            final PrintWriter printWriter = new PrintWriter(result);
            e.printStackTrace(printWriter);
            String stackTraceStr = result.toString();
            ErrorLog.write(stackTraceStr);
        }
        finally
        {
            try                              //å…³é—­æµ
            {
                if (fileInputStream != null)
                {
                    fileInputStream.close();
                }
                if (InputStreamReader != null)
                {
                    InputStreamReader.close();
                }
                if (bufferedReader != null)
                {
                    bufferedReader.close();
                }
            }
            catch (NullPointerException e)    //ç©ºæŒ‡é’ˆå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                System.err.println("æ–‡ä»¶å·²ç»è¢«å…³é—­ï¼Œæ— æ³•å†æ¬¡å…³é—­ï¼ï¼ï¼");
                final Writer result = new StringWriter();
                final PrintWriter printWriter = new PrintWriter(result);
                e.printStackTrace(printWriter);
                String stackTraceStr = result.toString();
                ErrorLog.write(stackTraceStr);
            }
            catch (Exception e)              //å…¶å®ƒå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                e.printStackTrace();
                final Writer result = new StringWriter();
                final PrintWriter printWriter = new PrintWriter(result);
                e.printStackTrace(printWriter);
                String stackTraceStr = result.toString();
                ErrorLog.write(stackTraceStr);
            }
        }
        return null;
    }
}

ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\io\\Student.java
package io;

import data.student_arraylist;

import java.awt.*;
import java.io.*;
import java.util.ArrayList;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): io
 * Class(ç±»å): Student
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 21:34
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š å­¦ç”Ÿçš„è¾“å…¥è¾“å‡ºç±»
 */

public class Student
{
    private static final String path = "Student.dat";       //ç”¨äºå­˜æ”¾æ•°æ®çš„æ–‡ä»¶è·¯å¾„

    /**
     * æŠŠæ‰€æœ‰å­¦ç”Ÿçš„ä¿¡æ¯å†™å…¥åˆ°ç¡¬ç›˜é‡Œ
     *
     * @return boolean
     */
    public static boolean write()
    {
        boolean result = false;
        FileOutputStream fileOutputStream = null;         //æ–‡ä»¶å­—èŠ‚æµ,è¾“å‡º
        //æ–‡ä»¶è¾“å‡ºæµæ˜¯ç”¨äºå°†æ•°æ®å†™å…¥Fileæˆ–FileDescriptorçš„è¾“å‡ºæµã€‚ æ–‡ä»¶æ˜¯å¦å¯ç”¨æˆ–å¯ä»¥åˆ›å»ºå–å†³äºåº•å±‚å¹³å°ã€‚
        // ç‰¹åˆ«æ˜¯æŸäº›å¹³å°ï¼Œä¸€æ¬¡åªå…è®¸ä¸€ä¸ªFileOutputStream ï¼ˆæˆ–å…¶ä»–æ–‡ä»¶å†™å…¥å¯¹è±¡ï¼‰æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚
        ObjectOutputStream objectOutputStream = null;     //å¯¹è±¡æµï¼Œè¾“å‡º
        //ObjectOutputStream å°† Java å¯¹è±¡çš„åŸå§‹æ•°æ®ç±»å‹å’Œå›¾å½¢å†™å…¥ OutputStreamã€‚
        // å¯ä»¥ä½¿ç”¨ ObjectInputStream è¯»å–ï¼ˆé‡æ„ï¼‰å¯¹è±¡ã€‚ å¯¹è±¡çš„æŒä¹…å­˜å‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨æµçš„æ–‡ä»¶æ¥å®ç°ã€‚ å¦‚æœæµæ˜¯ç½‘ç»œå¥—æ¥å­—æµï¼Œåˆ™å¯ä»¥åœ¨å¦ä¸€ä¸ªä¸»æœºæˆ–å¦ä¸€ä¸ªè¿›ç¨‹ä¸­é‡æ„å¯¹è±¡ã€‚
        //åªæœ‰æ”¯æŒ java.io.Serializable æ¥å£çš„å¯¹è±¡æ‰èƒ½å†™å…¥æµã€‚ æ¯ä¸ªå¯åºåˆ—åŒ–å¯¹è±¡çš„ç±»éƒ½ç»è¿‡ç¼–ç ï¼Œ
        // åŒ…æ‹¬ç±»çš„ç±»åå’Œç­¾åã€å¯¹è±¡çš„å­—æ®µå’Œæ•°ç»„çš„å€¼ï¼Œä»¥åŠä»åˆå§‹å¯¹è±¡å¼•ç”¨çš„ä»»ä½•å…¶ä»–å¯¹è±¡çš„é—­åŒ…ã€‚
        //writeObject æ–¹æ³•ç”¨äºå°†å¯¹è±¡å†™å…¥æµã€‚ ä»»ä½•å¯¹è±¡ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²å’Œæ•°ç»„ï¼Œéƒ½æ˜¯ç”¨ writeObject ç¼–å†™çš„ã€‚
        // å¯ä»¥å°†å¤šä¸ªå¯¹è±¡æˆ–åŸè¯­å†™å…¥æµã€‚ å¯¹è±¡å¿…é¡»ä»ç›¸åº”çš„ ObjectInputstream ä»¥ä¸å†™å…¥æ—¶ç›¸åŒçš„ç±»å‹å’Œç›¸åŒçš„é¡ºåºè¯»å›ã€‚
        //åŸå§‹æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨ DataOutput ä¸­çš„é€‚å½“æ–¹æ³•å†™å…¥æµã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨ writeUTF æ–¹æ³•å†™å…¥å­—ç¬¦ä¸²ã€‚

        try                                  //æ–‡ä»¶æµæ‰“å¼€ï¼Œæ–‡ä»¶è¯»å†™
        {
            fileOutputStream = new FileOutputStream(path);              //åˆ›å»ºç®¡é“
            objectOutputStream = new ObjectOutputStream(fileOutputStream);
            //å†™å…¥æ–‡ä»¶
            for (int i = 0; i < student_arraylist.getList().size(); i++)
            {
                data.Student student;
                student = student_arraylist.getList().get(i);
                objectOutputStream.writeObject(student);
            }
            result = true;
        }
        catch (FileNotFoundException e)      //æ–‡ä»¶æœªæ‰¾åˆ°
        {
            Toolkit.getDefaultToolkit().beep();
            System.err.println("æ–‡ä»¶æœªæ‰¾åˆ°ï¼ï¼ï¼  " + "\né”™è¯¯å†…å®¹ï¼š" + e.toString());
        }
        catch (Exception e)                  //å…¶å®ƒå¼‚å¸¸
        {
            Toolkit.getDefaultToolkit().beep();
            e.printStackTrace();
        }
        finally
        {
            try                              //å…³é—­æµ
            {
                if (fileOutputStream != null)
                {
                    fileOutputStream.close();
                }
                if (objectOutputStream != null)
                {
                    objectOutputStream.close();
                }
            }
            catch (NullPointerException e)    //ç©ºæŒ‡é’ˆå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                System.err.println("æ–‡ä»¶å·²ç»è¢«å…³é—­ï¼Œæ— æ³•å†æ¬¡å…³é—­ï¼ï¼ï¼");
            }
            catch (Exception e)              //å…¶å®ƒå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                e.printStackTrace();
            }
        }
        return result;
    }

    /**
     * è¯»å–
     *
     * @return ArrayList<data.Student>å¯¹è±¡
     */
    public static ArrayList<data.Student> read()
    {
        ArrayList<data.Student> list = new ArrayList<>();
        FileInputStream fileInputStream = null;
        //FileInputStreamä»æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ä¸­è·å–è¾“å…¥å­—èŠ‚ã€‚ å“ªäº›æ–‡ä»¶å¯ç”¨å–å†³äºä¸»æœºç¯å¢ƒã€‚
        ObjectInputStream objectInputStream = null;
        //ObjectInputStream ååºåˆ—åŒ–ä¹‹å‰ä½¿ç”¨ ObjectOutputStream ç¼–å†™çš„åŸå§‹æ•°æ®å’Œå¯¹è±¡ã€‚
        try                                  //æ–‡ä»¶æµæ‰“å¼€ï¼Œæ–‡ä»¶è¯»å†™
        {
            fileInputStream = new FileInputStream(path);
            objectInputStream = new ObjectInputStream(fileInputStream);
            data.Student student;
            Object obj = null;
            while ((obj = objectInputStream.readObject()) != null)
            {
                student = (data.Student) obj;
                list.add(student);
            }
        }
        catch (EOFException e)          //åˆ°è¾¾æœ«å°¾
        {
            return list;
        }
        catch (FileNotFoundException e)      //æ–‡ä»¶æœªæ‰¾åˆ°
        {
            Toolkit.getDefaultToolkit().beep();
            System.err.println("æ–‡ä»¶æœªæ‰¾åˆ°ï¼ï¼ï¼  " + "\né”™è¯¯å†…å®¹ï¼š" + e.toString());
        }
        catch (Exception e)                  //å…¶å®ƒå¼‚å¸¸
        {
            Toolkit.getDefaultToolkit().beep();
            e.printStackTrace();
        }
        finally
        {
            try                              //å…³é—­æµ
            {
                if (fileInputStream != null)
                {
                    fileInputStream.close();
                }
                if (objectInputStream != null)
                {
                    objectInputStream.close();
                }
            }
            catch (NullPointerException e)    //ç©ºæŒ‡é’ˆå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                System.err.println("æ–‡ä»¶å·²ç»è¢«å…³é—­ï¼Œæ— æ³•å†æ¬¡å…³é—­ï¼ï¼ï¼");
            }
            catch (Exception e)              //å…¶å®ƒå¼‚å¸¸
            {
                Toolkit.getDefaultToolkit().beep();
                e.printStackTrace();
            }
        }
        return list;
    }

    //ç¬¬äºŒç§æ–¹æ³•ï¼Œç›´æ¥è¯»å†™é›†åˆ
    //// TODO: 2022/1/14
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\io\\u_test.java
package io;

import data.Student;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): io
 * Class(ç±»å): u_test
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 21:55
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class u_test
{
    public static void main(String[] args)
    {
        Student student = new Student(12, "å¼ ä¸‰");
        student.getMap().put("è¯­æ–‡", 85.0f);
        student.getMap().put("æ•°å­¦", 76.0f);
        student.getMap().put("è‹±è¯­", 68.5f);
        System.out.println(student);

        Student student1 = new Student(14, "æå››");
        student1.getMap().put("è¯­æ–‡", 83.0f);
        student1.getMap().put("æ•°å­¦", 79.0f);
        student1.getMap().put("è‹±è¯­", 88.5f);
        System.out.println(student1);

        Student student2 = new Student(18, "ç‹äº”");
        student2.getMap().put("è¯­æ–‡", 78.0f);
        student2.getMap().put("æ•°å­¦", 72.0f);
        student2.getMap().put("è‹±è¯­", 59.5f);
        System.out.println(student2);

        data.student_arraylist.getList().add(student);
        data.student_arraylist.getList().add(student1);
        data.student_arraylist.getList().add(student2);

        System.out.println(data.student_arraylist.getList().size());

        io.Student.write();
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\io\\u_test1.java
package io;


import operate.Function;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): io
 * Class(ç±»å): u_test1
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 22:01
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class u_test1
{
    public static void main(String[] args)
    {
        data.student_arraylist.setList(io.Student.read());
        System.out.println(data.student_arraylist.getList().size());
        for (data.Student student : data.student_arraylist.getList())
        {
            System.out.println(student);
        }
        Function function = new Function();
        function.subject_score("è¯­æ–‡", "desc");

        System.out.println(function.getStudentInformation());
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\operate\\Function.java
package operate;

import data.Student;
import data.student_arraylist;

import java.awt.*;
import java.util.*;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): operate
 * Class(ç±»å): Function
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 22:37
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class Function implements Function_interface
{

    /**
     * æ·»åŠ ä¸€åå­¦ç”Ÿï¼Œä¸åŒ…å«æˆç»©
     *
     * @param no   å­¦å·
     * @param name å§“å
     * @return æ˜¯å¦æˆåŠŸ boolean
     */
    @Override
    public boolean addStudent(long no, String name)
    {
        if (data.student_arraylist.getList().size() == 0)         //ä¸ºç©ºï¼Œç›´æ¥æ’å…¥ï¼Œä¸ç”¨æ‹…å¿ƒå­¦å·é‡å¤ï¼Œå› ä¸ºå­¦å·ä¸ºä¸»é”®
        {
            Student student = new Student(no, name);
            data.student_arraylist.getList().add(student);
            return true;
        }
        //é›†åˆä¸ä¸ºç©º
        //éå†é›†åˆï¼Œä¼ å…¥çš„å­¦å·æ˜¯å¦å·²ç»å­˜åœ¨
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·ï¼Œæ’å…¥å¤±è´¥
            {
                Toolkit.getDefaultToolkit().beep();
                return false;
            }
        }
        //æ²¡æœ‰é‡å¤çš„æƒ…å†µ
        Student student = new Student(no, name);
        data.student_arraylist.getList().add(student);
        return true;
    }

    /**
     * åˆ é™¤ä¸€åå­¦ç”Ÿï¼Œè¿™ä¼šæ¸…é™¤å­¦ç”Ÿå¯¹åº”çš„æˆç»©
     *
     * @param no å­¦å·
     * @return boolean
     */

    @Override
    public boolean deleteStudent(long no)
    {
        //åˆ¤æ–­ä¼ å…¥çš„å­¦å·æ˜¯å¦å­˜åœ¨
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·ï¼Œæ’å…¥å¤±è´¥
            {
                data.student_arraylist.getList().remove(student);
                return true;
            }
        }
        //ä¸å­˜åœ¨
        return false;
    }

    /**
     * ä¿®æ”¹ä¸€åå­¦ç”Ÿçš„ä¿¡æ¯ï¼Œä¸åŒ…æ‹¬æˆç»©
     *
     * @param no     å­¦å·
     * @param name   å§“å
     * @param old_no è€å­¦å·
     * @return boolean
     */
    @Override
    public boolean updateStudent(long no, String name, long old_no)
    {
        //åˆ¤æ–­æ–°å­¦å·æ˜¯å¦å’Œé›†åˆä¸­çš„æ‰€æœ‰å­¦å·çš„æŸä¸€ä¸ªå­¦å·ç›¸åŒï¼Œå› ä¸ºå­¦å·å”¯ä¸€ï¼Œä¸èƒ½å ç”¨åˆ«äººçš„å­¦å·
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no && student.getNo() != old_no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·ï¼Œä¸å…è®¸ä¿®æ”¹
            {
                return false;
            }
        }
        //åˆ¤æ–­è€å­¦å·æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ— æ³•è¿›è¡Œä¿®æ”¹
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == old_no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å· å¯ä»¥è¿›è¡Œä¿®æ”¹
            {
                student.setNo(no);
                student.setName(name);
                return true;
            }
        }
        //æ²¡æ‰¾åˆ°ï¼Œåˆ™è€å­¦å·å¯¹åº”çš„å­¦ç”Ÿä¸åœ¨é›†åˆé‡Œï¼Œæ›´æ–°å¤±è´¥
        return false;
    }

    /**
     * æŸ¥çœ‹å­¦ç”Ÿçš„æ‰€æœ‰ä¿¡æ¯
     */

    @Override
    public void display()
    {
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            System.out.println(student);
        }
    }

    /**
     * è·å¾—å­¦ç”Ÿçš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼Œä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
     *
     * @return String
     */
    @Override
    public String getStudentInformation()
    {
        StringBuilder stringBuilder = new StringBuilder();
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            stringBuilder.append(student).append("\n");
        }
        return stringBuilder.toString();
    }

    /**
     * æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯ï¼ŒæŒ‰å­¦å·æŸ¥æ‰¾
     *
     * @param no å­¦å·
     * @return data.Studentå¯¹è±¡
     */
    @Override
    public Student findByNo(long no)
    {
        Student student = null;
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student1 = data.student_arraylist.getList().get(i);
            if (student1.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                student = student1;
                break;
            }
        }
        return student;
    }

    /**
     * æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯ï¼ŒæŒ‰å§“åæŸ¥æ‰¾
     *
     * @param name å­¦ç”Ÿå§“å
     */
    @Override
    public void findByName(String name)
    {
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getName().equals(name))            //æ‰¾åˆ°ç›¸ç­‰çš„å§“å
            {
                System.out.println(student);
            }
        }
    }

    /**
     * è·å¾—æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯çš„ç»“æœï¼ŒæŒ‰å§“åæŸ¥æ‰¾ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼Œä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
     *
     * @param name å­¦ç”Ÿå§“å
     * @return å­—ç¬¦ä¸²
     */
    @Override
    public String getFindByName(String name)
    {
        StringBuilder stringBuilder = new StringBuilder();
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getName().equals(name))            //æ‰¾åˆ°ç›¸ç­‰çš„å§“å
            {
                stringBuilder.append(student).append("\n");
            }
        }
        return stringBuilder.toString();
    }

    /**
     * æ·»åŠ ä¸€åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯ï¼Œå¦‚æœé”®å·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°æˆç»©
     *
     * @param no      å­¦å·
     * @param subject ç§‘ç›®
     * @param score   åˆ†æ•°
     * @return boolean
     */
    @Override
    public boolean addStudentScore(long no, String subject, float score)
    {
        //è¿˜æ˜¯å¾—æ‰¾
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                student.getMap().put(subject, score);
                return true;
            }
        }
        //æ²¡æ‰¾åˆ°
        return false;
    }

    /**
     * ä¿®æ”¹ä¸€åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯
     *
     * @param no      å­¦å·
     * @param subject ç§‘ç›®
     * @param score   åˆ†æ•°
     * @return boolean
     */
    @Override
    public boolean updateStudentScore(long no, String subject, float score)
    {
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                if (student.getMap().containsKey(subject))      //é›†åˆå­˜åœ¨å¯¹åº”çš„ç§‘ç›®ï¼Œå¯ä»¥ä¿®æ”¹
                {
                    student.getMap().put(subject, score);
                    return true;
                }
                else            //ä¸å­˜åœ¨å¯¹åº”çš„ç§‘ç›®ï¼Œæ— æ³•ä¿®æ”¹
                {
                    return false;
                }
            }
        }
        //æ²¡æ‰¾åˆ°è¯¥å­¦å·
        return false;
    }

    /**
     * åˆ é™¤ä¸€åå­¦ç”Ÿçš„ä¸€é—¨ç§‘ç›®çš„æˆç»©
     *
     * @param no      å­¦å·
     * @param subject ç§‘ç›®
     * @return boolean
     */
    @Override
    public boolean removeStudentScore(long no, String subject)
    {
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                if (student.getMap().containsKey(subject))      //é›†åˆå­˜åœ¨å¯¹åº”çš„ç§‘ç›®ï¼Œå¯ä»¥åˆ é™¤
                {
                    student.getMap().remove(subject);
                    return true;
                }
                else            //ä¸å­˜åœ¨å¯¹åº”çš„ç§‘ç›®ï¼Œæ— æ³•åˆ é™¤
                {
                    return false;
                }
            }
        }
        //æ²¡æ‰¾åˆ°è¯¥å­¦å·
        return false;
    }

    /**
     * åˆ é™¤ä¸€åå­¦ç”Ÿçš„æ‰€æœ‰æˆç»©
     *
     * @param no å­¦å·
     * @return boolean
     */
    @Override
    public boolean removeAllStudentScore(long no)
    {
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                student.getMap().clear();       //æ¸…ç©ºæˆç»©
            }
        }
        //æ²¡æ‰¾åˆ°è¯¥å­¦å·
        return false;
    }

    /**
     * è·å¾—ä¸€åå­¦ç”Ÿçš„å¹³å‡åˆ†
     *
     * @param no å­¦å·
     * @return floatç±»å‹ å€¼ä¸º-1åˆ™è¡¨ç¤ºè®¡ç®—å¤±è´¥ï¼ŒåŸå› ä¸ºä¼ å…¥çš„å­¦å·ä¸å­˜åœ¨
     */
    @Override
    public float AverageScore(long no)
    {
        float result = -1.0f;
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getNo() == no)            //æ‰¾åˆ°ç›¸ç­‰çš„å­¦å·
            {
                float sum = 0.0f;
                for (String subject : student.getMap().keySet())
                {
                    sum = sum + student.getMap().get(subject);
                }
                result = sum / student.getMap().size();
                return result;
            }
        }
        //æ²¡æ‰¾åˆ°è¯¥å­¦å· è¿”å›-1
        return result;
    }

    /**
     * æŸ¥çœ‹æŸé—¨ç§‘ç›®çš„æˆç»©ï¼Œå¹¶ä¸”æŒ‰å‡åºæˆ–è€…é™åºæ’åˆ—ï¼Œè¾“å‡ºæœ‰ä¸‰åˆ—ï¼Œå­¦å·ï¼Œå§“åï¼Œåˆ†æ•°
     *
     * @param subject     ç§‘ç›®
     * @param asc_or_desc å‡åºæˆ–è€…é™åº
     */
    @Override
    public void subject_score(String subject, String asc_or_desc)
    {
        String str = null;
        ArrayList<Student> list = new ArrayList<>();
        //é”®ä¸ºå­¦ç”Ÿå¯¹è±¡ï¼Œå€¼ä¸ºåˆ†æ•°
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getMap().containsKey(subject))      //é›†åˆå­˜åœ¨å¯¹åº”çš„ç§‘ç›®
            {
                list.add(student);
            }
        }
        if (list.size() == 0)     //ç©º
        {
            Toolkit.getDefaultToolkit().beep();
            System.out.println("ç§‘ç›®" + subject + "æ— å¯¹åº”çš„æ•°æ®");
            return;
        }
        //æ’åº
        if (asc_or_desc.equals("asc") || asc_or_desc.equals("ASC"))       //å‡åº
        {
            str = "å‡åº";
            /*
            list.sort((stu1, stu2) ->
            {
                if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                {
                    return 1;
                }
                else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                {
                    return -1;
                }
                else
                {
                    return 0;
                }
            });
             */
            list.sort(new Comparator<>()
            {
                @Override
                public int compare(Student stu1, Student stu2)
                {
                    if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                    {
                        return 1;
                    }
                    else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                    {
                        return -1;
                    }
                    else
                    {
                        return 0;
                    }
                }
            });
        }
        else if (asc_or_desc.equals("desc") || asc_or_desc.equals("DESC"))       //é™åº
        {
            str = "é™åº";
            list.sort((stu1, stu2) ->
            {
                if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                {
                    return -1;
                }
                else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                {
                    return 1;
                }
                else
                {
                    return 0;
                }
            });
            /*
            list.sort(new Comparator<Student>()
            {
                @Override
                public int compare(Student stu1, Student stu2)
                {
                    if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                    {
                        return -1;
                    }
                    else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                    {
                        return 1;
                    }
                    else
                    {
                        return 0;
                    }
                }
            });
             */
        }
        else
        {
            Toolkit.getDefaultToolkit().beep();
            System.out.println("æ’åºæ–¹å¼åªèƒ½ä¸ºå‡åºæˆ–è€…é™åº");
            return;
        }
        //å¼€å§‹éå†
        System.out.println("ç§‘ç›®ï¼š" + subject + "    æ’åºæ–¹å¼ï¼š" + str);
        float sumScore = 0;
        float AverageScore = 0;

        for (Student student : list)
        {
            float number = student.getMap().get(subject);
            System.out.println(student.getNo() + "\t\t" + student.getName() + "\t\t" + number);
            sumScore = sumScore + number;
        }
        AverageScore = sumScore / list.size();
        System.out.println();
        System.out.println("æ€»æ•°ï¼š" + list.size() + "    ç§‘ç›®å¹³å‡åˆ†ï¼š" + AverageScore);
    }

    /**
     * è·å¾—æŸé—¨ç§‘ç›®çš„æˆç»©ï¼Œå¹¶ä¸”æŒ‰å‡åºæˆ–è€…é™åºæ’åˆ—ï¼Œè¿”å›å­—ç¬¦ä¸²,ä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
     *
     * @param subject     ç§‘ç›®
     * @param asc_or_desc å‡åºæˆ–è€…é™åº
     * @return å­—ç¬¦ä¸²
     */
    @Override
    public String getSubject_score(String subject, String asc_or_desc)
    {
        String str = null;
        StringBuilder stringBuilder = new StringBuilder();
        ArrayList<Student> list = new ArrayList<>();
        //é”®ä¸ºå­¦ç”Ÿå¯¹è±¡ï¼Œå€¼ä¸ºåˆ†æ•°
        for (int i = 0; i < student_arraylist.getList().size(); i++)
        {
            data.Student student = data.student_arraylist.getList().get(i);
            if (student.getMap().containsKey(subject))      //é›†åˆå­˜åœ¨å¯¹åº”çš„ç§‘ç›®
            {
                list.add(student);
            }
        }
        if (list.size() == 0)     //ç©º
        {
            Toolkit.getDefaultToolkit().beep();
            stringBuilder.append("ç§‘ç›®").append(subject).append("æ— å¯¹åº”çš„æ•°æ®\n");
            return stringBuilder.toString();
        }
        //æ’åº
        if (asc_or_desc.equals("asc") || asc_or_desc.equals("ASC"))       //å‡åº
        {
            str = "å‡åº";
            /*
            list.sort((stu1, stu2) ->
            {
                if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                {
                    return 1;
                }
                else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                {
                    return -1;
                }
                else
                {
                    return 0;
                }
            });
             */
            list.sort(new Comparator<>()
            {
                @Override
                public int compare(Student stu1, Student stu2)
                {
                    if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                    {
                        return 1;
                    }
                    else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                    {
                        return -1;
                    }
                    else
                    {
                        return 0;
                    }
                }
            });
        }
        else if (asc_or_desc.equals("desc") || asc_or_desc.equals("DESC"))       //é™åº
        {
            str = "é™åº";
            list.sort((stu1, stu2) ->
            {
                if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                {
                    return -1;
                }
                else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                {
                    return 1;
                }
                else
                {
                    return 0;
                }
            });
            /*
            list.sort(new Comparator<Student>()
            {
                @Override
                public int compare(Student stu1, Student stu2)
                {
                    if (stu1.getMap().get(subject) > stu2.getMap().get(subject))
                    {
                        return -1;
                    }
                    else if (stu1.getMap().get(subject) < stu2.getMap().get(subject))
                    {
                        return 1;
                    }
                    else
                    {
                        return 0;
                    }
                }
            });
             */
        }
        else
        {
            Toolkit.getDefaultToolkit().beep();
            stringBuilder.append("æ’åºæ–¹å¼åªèƒ½ä¸ºå‡åºæˆ–è€…é™åº\n");
            return null;
        }
        //å¼€å§‹éå†
        stringBuilder.append("ç§‘ç›®ï¼š").append(subject).append("    æ’åºæ–¹å¼ï¼š").append(str);
        stringBuilder.append("\n");
        float sumScore = 0;
        float AverageScore = 0;

        for (Student student : list)
        {
            float number = student.getMap().get(subject);
            stringBuilder.append(student.getNo()).append("\t\t").append(student.getName()).append("\t\t").append(number);
            stringBuilder.append("\n");
            sumScore = sumScore + number;
        }
        AverageScore = sumScore / list.size();
        stringBuilder.append("\n");
        stringBuilder.append("æ€»æ•°ï¼š").append(list.size()).append("    ç§‘ç›®å¹³å‡åˆ†ï¼š").append(AverageScore);
        stringBuilder.append("\n");
        return stringBuilder.toString();
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\operate\\Function_interface.java
package operate;

import data.Student;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): operate
 * Interface(æ¥å£å): Function_interface
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/14
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 22:17
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š å‡½æ•°çš„æ¥å£
 * å‚æ•°è¯´æ˜ï¼š
 * long noï¼šå­¦å·
 * String nameï¼šå§“å
 * long old_noï¼šè€çš„å­¦å·
 * String subjectï¼šç§‘ç›®
 * float scoreï¼šåˆ†æ•°
 * String asc_or_descï¼šæ’åºæ–¹å¼ï¼Œascä¸ºå‡åºï¼Œdescä¸ºé™åºï¼Œæ­¤å‚æ•°åªèƒ½å­˜å…¥è¿™ä¸¤ä¸ªå€¼
 */

public interface Function_interface
{
    //æ·»åŠ ä¸€åå­¦ç”Ÿï¼Œä¸åŒ…å«æˆç»©
    public boolean addStudent(long no, String name);

    //åˆ é™¤ä¸€åå­¦ç”Ÿï¼Œè¿™ä¼šæ¸…é™¤å­¦ç”Ÿå¯¹åº”çš„æˆç»©
    public boolean deleteStudent(long no);

    //ä¿®æ”¹ä¸€åå­¦ç”Ÿçš„ä¿¡æ¯ï¼Œä¸åŒ…æ‹¬æˆç»©
    public boolean updateStudent(long no, String name, long old_no);

    //æŸ¥çœ‹å­¦ç”Ÿçš„æ‰€æœ‰ä¿¡æ¯
    public void display();

    //è·å¾—å­¦ç”Ÿçš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼Œä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
    public String getStudentInformation();

    //æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯ï¼ŒæŒ‰å­¦å·æŸ¥æ‰¾
    public Student findByNo(long no);

    //æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯ï¼ŒæŒ‰å§“åæŸ¥æ‰¾
    public void findByName(String name);

    //è·å¾—æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯çš„ç»“æœï¼ŒæŒ‰å§“åæŸ¥æ‰¾ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼Œä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
    public String getFindByName(String name);

    //æ·»åŠ ä¸€åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯ï¼Œå¦‚æœé”®å·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°æˆç»©
    public boolean addStudentScore(long no, String subject, float score);

    //ä¿®æ”¹ä¸€åå­¦ç”Ÿçš„æˆç»©ä¿¡æ¯
    public boolean updateStudentScore(long no, String subject, float score);

    //åˆ é™¤ä¸€åå­¦ç”Ÿçš„ä¸€é—¨ç§‘ç›®çš„æˆç»©
    public boolean removeStudentScore(long no, String subject);

    //åˆ é™¤ä¸€åå­¦ç”Ÿçš„æ‰€æœ‰æˆç»©
    public boolean removeAllStudentScore(long no);

    //è·å¾—ä¸€åå­¦ç”Ÿçš„å¹³å‡åˆ†
    public float AverageScore(long no);

    //æŸ¥çœ‹æŸé—¨ç§‘ç›®çš„æˆç»©ï¼Œå¹¶ä¸”æŒ‰å‡åºæˆ–è€…é™åºæ’åˆ—
    public void subject_score(String subject, String asc_or_desc);

    //è·å¾—æŸé—¨ç§‘ç›®çš„æˆç»©ï¼Œå¹¶ä¸”æŒ‰å‡åºæˆ–è€…é™åºæ’åˆ—ï¼Œè¿”å›å­—ç¬¦ä¸²,ä¸åœ¨æ§åˆ¶å°ä¸Šæ‰“å°
    public String getSubject_score(String subject, String asc_or_desc);
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\Run.java
import UI.MainPanel;
import io.ErrorLog;

import java.awt.*;
import java.io.PrintWriter;
import java.io.StringWriter;
import java.io.Writer;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): PACKAGE_NAME
 * Class(ç±»å): Run
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 13:38
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class Run
{
    public static void main(String[] args)
    {
        try
        {
            data.student_arraylist.setList(io.Student.read());  //è¯»
            new MainPanel();
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            e.printStackTrace();
            final Writer result = new StringWriter();
            final PrintWriter printWriter = new PrintWriter(result);
            e.printStackTrace(printWriter);
            String stackTraceStr = result.toString();
            ErrorLog.write(stackTraceStr);
        }
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\AddStudent.java
package UI;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): AddStudent
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 14:59
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class AddStudent
{
    JDialog jDialog;

    public AddStudent()
    {
        jDialog = new JDialog(MainPanel.jFrame, "æ·»åŠ å­¦ç”Ÿ");
        int w = 300;
        int h = 200;
        int x = MainPanel.jFrame.getX();
        int y = MainPanel.jFrame.getY();
        //System.out.println(x+"  "+y);
        int width = MainPanel.jFrame.getWidth();
        int height = MainPanel.jFrame.getHeight();
        int Location_x = x + width / 2 - w / 2;
        int Location_y = y + height / 2 - h / 2;
        jDialog.setLocation(Location_x, Location_y);
        jDialog.setSize(w, h);

        JLabel jLabel_no = new JLabel("è¯·è¾“å…¥å­¦ç”Ÿå­¦å·ï¼š");
        JLabel jLabel_name = new JLabel("è¯·è¾“å…¥å­¦ç”Ÿå§“åï¼š");
        JTextField JTextField_no = new JTextField();
        JTextField JTextField_name = new JTextField();
        JButton jButton = new JButton("ç¡®å®š");
        jButton.setBackground(Color.cyan);

        JPanel jPanel = new JPanel();
        JPanel jPanel_no = new JPanel();
        JPanel jPanel_name = new JPanel();
        jPanel.setLayout(new GridLayout(3, 1));
        //jPanel_no.setLayout(new GridLayout(1, 2));
        //jPanel_name.setLayout(new GridLayout(1, 2));
        jPanel_no.setLayout(new BorderLayout());
        jPanel_name.setLayout(new BorderLayout());

        /*
        jPanel_no.add(jLabel_no);
        jPanel_no.add(JTextField_no);
        jPanel_name.add(jLabel_name);
        jPanel_name.add(JTextField_name);
         */
        jPanel_no.add(jLabel_no, BorderLayout.WEST);
        jPanel_no.add(JTextField_no, BorderLayout.CENTER);
        jPanel_name.add(jLabel_name, BorderLayout.WEST);
        jPanel_name.add(JTextField_name, BorderLayout.CENTER);
        jPanel.add(jPanel_no);
        jPanel.add(jPanel_name);
        jPanel.add(jButton);
        jDialog.add(jPanel);

        jDialog.setVisible(true);
        //jDialog.dispose();

        jButton.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                AddStudent.this.addStudent(JTextField_no, JTextField_name);
            }
        });
    }

    private void addStudent(JTextField JTextField_no, JTextField JTextField_name)
    {
        long no = -1;
        String name;
        try
        {
            no = Long.parseLong(JTextField_no.getText());
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        name = JTextField_name.getText();

        if (no == -1)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸º-1ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (name == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å§“åä¸ºç©ºï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (name.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å§“åä¸ºç©ºï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        boolean result = MainPanel.function.addStudent(no, name);
        if (!result)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ’å…¥å¤±è´¥ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
        }
        else
        {
            MainPanel.jTextArea.setText(MainPanel.function.getStudentInformation());
            io.Student.write();
            jDialog.dispose();
        }
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\AddStudentScore.java
package UI;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): AddStudentScore
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 17:45
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class AddStudentScore
{
    JDialog jDialog;
    data.Student student;

    public AddStudentScore(data.Student student)
    {
        this.student = student;

        jDialog = new JDialog(MainPanel.jFrame, "æ·»åŠ å­¦ç”Ÿ\"" + student.getName() + "\"çš„æˆç»©");
        int w = 300;
        int h = 200;
        int x = MainPanel.jFrame.getX();
        int y = MainPanel.jFrame.getY();
        //System.out.println(x+"  "+y);
        int width = MainPanel.jFrame.getWidth();
        int height = MainPanel.jFrame.getHeight();
        int Location_x = x + width / 2 - w / 2;
        int Location_y = y + height / 2 - h / 2;
        jDialog.setLocation(Location_x, Location_y);
        jDialog.setSize(w, h);

        JLabel jLabel_subject = new JLabel("è¯·è¾“å…¥ç§‘ç›®ï¼š");
        JLabel jLabel_score = new JLabel("è¯·è¾“å…¥åˆ†æ•°ï¼š");
        JTextField JTextField_subject = new JTextField();
        JTextField JTextField_score = new JTextField();
        JButton jButton = new JButton("ç¡®å®š");
        jButton.setBackground(Color.cyan);

        JPanel jPanel = new JPanel();
        JPanel jPanel_no = new JPanel();
        JPanel jPanel_name = new JPanel();
        jPanel.setLayout(new GridLayout(3, 1));
        //jPanel_no.setLayout(new GridLayout(1, 2));
        //jPanel_name.setLayout(new GridLayout(1, 2));
        jPanel_no.setLayout(new BorderLayout());
        jPanel_name.setLayout(new BorderLayout());

        /*
        jPanel_no.add(jLabel_no);
        jPanel_no.add(JTextField_no);
        jPanel_name.add(jLabel_name);
        jPanel_name.add(JTextField_name);
         */
        jPanel_no.add(jLabel_subject, BorderLayout.WEST);
        jPanel_no.add(JTextField_subject, BorderLayout.CENTER);
        jPanel_name.add(jLabel_score, BorderLayout.WEST);
        jPanel_name.add(JTextField_score, BorderLayout.CENTER);
        jPanel.add(jPanel_no);
        jPanel.add(jPanel_name);
        jPanel.add(jButton);
        jDialog.add(jPanel);

        jDialog.setVisible(true);
        //jDialog.dispose();

        jButton.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                AddStudentScore.this.add(JTextField_subject, JTextField_score);
            }
        });
    }

    private void add(JTextField JTextField_subject, JTextField JTextField_score)
    {
        String subject;
        float score;
        try
        {
            score = Float.parseFloat(JTextField_score.getText());
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„åˆ†æ•°ä¸æ˜¯floatå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        subject = JTextField_subject.getText();
        if (score < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„åˆ†æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        boolean result = MainPanel.function.addStudentScore(student.getNo(), subject, score);
        if (!result)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æˆç»©æ·»åŠ å¤±è´¥ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
        }
        else
        {
            JTextField_subject.setText("");
            JTextField_score.setText("");
            MainPanel.jTextArea.setText(MainPanel.function.getStudentInformation());
            io.Student.write();
        }
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\MainPanel.java
package UI;

import operate.Function;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): MainPatch
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 13:37
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class MainPanel
{
    static Function function = new Function();
    static JFrame jFrame;
    static JTextArea jTextArea;                //æ–‡æœ¬åŸŸ
    private JButton addStudent;
    private JButton deleteStudent;
    private JButton updateStudent;
    private JButton display;
    private JButton findByNo;
    private JButton findByName;
    private JButton globalFind;
    private JButton addStudentScore;
    private JButton updateStudentScore;
    private JButton removeStudentScore;
    private JButton removeAllStudentScore;
    private JButton AverageScore;
    private JButton subject_score;


    public MainPanel()
    {
        jFrame = new JFrame("æˆç»©ç®¡ç†");                //åˆå§‹åŒ–é¡¶å±‚é¢æ¿
        jFrame.setSize(1280, 720);
        int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;       //è·å–å±å¹•å®½åº¦
        int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;     //è·å–å±å¹•é«˜åº¦
        jFrame.setLocation(screenWidth / 2 - jFrame.getWidth() / 2, screenHeight / 2 - jFrame.getHeight() / 2);  //ä½äºå±å¹•ä¸­å¤®
        jFrame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);


        JPanel jPanel_main = new JPanel();
        JPanel jPanel_up = new JPanel();
        JPanel jPanel_up1 = new JPanel();
        JPanel jPanel_up2 = new JPanel();
        JPanel jPanel_down = new JPanel();
        jPanel_main.setLayout(new BorderLayout());          //æ„é€ ä¸€ä¸ªæ–°çš„è¾¹æ¡†å¸ƒå±€ï¼Œç»„ä»¶ä¹‹é—´æ²¡æœ‰é—´éš™
        jPanel_up.setLayout(new GridLayout(2, 1));

        Font font = new Font("å®‹ä½“", Font.BOLD, 20);
        jTextArea = new JTextArea();
        jTextArea.setFont(font);
        JScrollPane jScrollPane = new JScrollPane(jTextArea);       //åŠ å…¥æ»šåŠ¨é¢æ¿

        this.initBottom();                              //åˆå§‹åŒ–æŒ‰é’®
        this.initListener();                            //åˆå§‹åŒ–ç›‘å¬å™¨

        jPanel_down.add(display);
        jPanel_up1.add(addStudent);
        jPanel_up1.add(deleteStudent);
        jPanel_up1.add(updateStudent);
        jPanel_up1.add(findByNo);
        jPanel_up1.add(findByName);
        jPanel_up1.add(globalFind);

        jPanel_up2.add(addStudentScore);
        jPanel_up2.add(updateStudentScore);

        jPanel_up.add(jPanel_up1);
        jPanel_up.add(jPanel_up2);

        jPanel_main.add(jScrollPane, BorderLayout.CENTER);
        jPanel_main.add(jPanel_up, BorderLayout.NORTH);
        jPanel_main.add(jPanel_down, BorderLayout.SOUTH);
        jFrame.add(jPanel_main);

        jFrame.setVisible(true);

        jTextArea.setText(function.getStudentInformation());
    }

    /**
     * åˆå§‹åŒ–ç›‘å¬å™¨
     */
    private void initListener()
    {
        jFrame.addWindowListener(new WindowAdapter()
        {
            @Override
            public void windowClosing(WindowEvent e)
            {
                System.exit(1);
            }
        });

        display.addActionListener(new ActionListener()
        {

            @Override
            public void actionPerformed(ActionEvent e)
            {
                jTextArea.setText(function.getStudentInformation());
            }
        });

        addStudent.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                new AddStudent();
            }
        });

        deleteStudent.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.delete();
            }
        });

        updateStudent.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.update();
            }
        });

        findByNo.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.findByNo();
            }
        });

        findByName.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.findByName();
            }
        });

        globalFind.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                new Search();
            }
        });

        addStudentScore.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.addStudentScore();
            }
        });

        updateStudentScore.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                MainPanel.this.updateStudentScore();
            }
        });
    }

    /**
     * åˆå§‹åŒ–æŒ‰é’®
     */
    private void initBottom()
    {
        display = new JButton("åˆ·æ–°");
        addStudent = new JButton("æ·»åŠ ");
        deleteStudent = new JButton("åˆ é™¤");
        updateStudent = new JButton("æ›´æ–°");
        findByNo = new JButton("æŒ‰å­¦å·æŸ¥æ‰¾");
        findByName = new JButton("æŒ‰å§“åæŸ¥æ‰¾");
        globalFind = new JButton("å…¨å±€æŸ¥æ‰¾");
        addStudentScore = new JButton("æ·»åŠ æˆç»©");
        updateStudentScore = new JButton("ä¿®æ”¹æˆç»©");

        display.setBackground(Color.cyan);
        addStudent.setBackground(Color.cyan);
        deleteStudent.setBackground(Color.cyan);
        updateStudent.setBackground(Color.cyan);
        findByNo.setBackground(Color.cyan);
        findByName.setBackground(Color.cyan);
        globalFind.setBackground(Color.cyan);
        addStudentScore.setBackground(Color.cyan);
        updateStudentScore.setBackground(Color.cyan);
    }

    /**
     * åˆ é™¤
     */
    private void delete()
    {
        long no;
        String no_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦å·ï¼š");
        if (no_str == null)
        {
            return;
        }
        if (no_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å­¦å·ä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        try
        {
            no = Long.parseLong(no_str);
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (no < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯æ­£æ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        data.Student student = function.findByNo(no);
        if (student == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ­¤å­¦ç”Ÿä¸å­˜åœ¨ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        Toolkit.getDefaultToolkit().beep();
        int result = JOptionPane.showConfirmDialog(null,
                "å­¦ç”Ÿä¿¡æ¯ä¸ºï¼š\n" + student + "\næ˜¯å¦åˆ é™¤ï¼Ÿ", "æç¤º", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
        if (result == 0)
        {
            boolean result1 = function.deleteStudent(no);
            if (!result1)
            {
                Toolkit.getDefaultToolkit().beep();
                JOptionPane.showMessageDialog(null, "åˆ é™¤å¤±è´¥ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
                return;
            }
            MainPanel.jTextArea.setText(MainPanel.function.getStudentInformation());
            io.Student.write();
        }
    }

    /**
     * æ›´æ–°
     */
    private void update()
    {
        long no;
        String no_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦æ›´æ–°çš„æ—§å­¦å·ï¼š");
        if (no_str == null)
        {
            return;
        }
        if (no_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å­¦å·ä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        try
        {
            no = Long.parseLong(no_str);
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (no < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯æ­£æ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        data.Student student = function.findByNo(no);
        if (student == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ­¤å­¦ç”Ÿä¸å­˜åœ¨ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        new UpdateStudent(student);
    }

    /**
     * æŒ‰å­¦å·æŸ¥æ‰¾
     */
    private void findByNo()
    {
        long no;
        String no_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å­¦å·ï¼š");
        if (no_str == null)
        {
            return;
        }
        if (no_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å­¦å·ä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        try
        {
            no = Long.parseLong(no_str);
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (no < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯æ­£æ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        data.Student student = function.findByNo(no);
        if (student == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ­¤å­¦ç”Ÿä¸å­˜åœ¨ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        JOptionPane.showMessageDialog(null,
                "å­¦ç”Ÿä¿¡æ¯ä¸ºï¼š\n" + student + "\n", "æŸ¥æ‰¾ç»“æœ", JOptionPane.INFORMATION_MESSAGE);
    }

    private void findByName()
    {
        String name_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„å§“åï¼š");
        if (name_str == null)
        {
            return;
        }
        if (name_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å§“åä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        String result = function.getFindByName(name_str);
        if (result == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æŸ¥æ‰¾ç»“æœä¸ºç©º!", "æç¤º", JOptionPane.INFORMATION_MESSAGE);
            return;
        }
        if (result.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æŸ¥æ‰¾ç»“æœä¸ºç©º!", "æç¤º", JOptionPane.INFORMATION_MESSAGE);
            return;
        }
        jTextArea.setText(function.getFindByName(name_str));
    }

    /**
     * æ·»åŠ å­¦ç”Ÿæˆç»©ä¿¡æ¯
     */
    private void addStudentScore()
    {
        long no;
        String no_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦æ·»åŠ å­¦ç”Ÿä¿¡æ¯çš„å­¦ç”Ÿå­¦å·ï¼š");
        if (no_str == null)
        {
            return;
        }
        if (no_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å­¦å·ä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        try
        {
            no = Long.parseLong(no_str);
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (no < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯æ­£æ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        data.Student student = function.findByNo(no);
        if (student == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ­¤å­¦ç”Ÿä¸å­˜åœ¨ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        new AddStudentScore(student);
    }

    /**
     * ä¿®æ”¹æˆç»©
     */
    private void updateStudentScore()
    {
        long no;
        String no_str = JOptionPane.showInputDialog(null, "è¯·è¾“å…¥è¦ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯çš„å­¦ç”Ÿå­¦å·ï¼š");
        if (no_str == null)
        {
            return;
        }
        if (no_str.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å­¦å·ä¸èƒ½ä¸ºç©º!", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        try
        {
            no = Long.parseLong(no_str);
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (no < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯æ­£æ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        data.Student student = function.findByNo(no);
        if (student == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ­¤å­¦ç”Ÿä¸å­˜åœ¨ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }

        new UpdateStudentScore(student);
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\Search.java
package UI;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): Search
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 17:16
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class Search
{
    private static int start = 0;                                            // æŸ¥æ‰¾å¼€å§‹ä½ç½®
    private static int end = 0;                                              // æŸ¥æ‰¾ç»“æŸä½ç½®

    public Search()
    {
        // æŸ¥æ‰¾å¯¹è¯æ¡†
        JDialog jDialog_search = new JDialog(MainPanel.jFrame, "å…¨å±€æŸ¥æ‰¾");
        jDialog_search.setSize(500, 150);
        int x = MainPanel.jFrame.getX();
        int y = MainPanel.jFrame.getY();
        //System.out.println(x+"  "+y);
        int width = MainPanel.jFrame.getWidth();
        int height = MainPanel.jFrame.getHeight();
        int search_x = x + width / 2 - 500 / 2;
        int search_y = y + height / 2 - 150 / 2;
        jDialog_search.setLocation(search_x, search_y);
        JLabel label_search = new JLabel("æŸ¥æ‰¾çš„å†…å®¹");
        label_search.setFont(new Font("å®‹ä½“", Font.BOLD, 15));
        final JTextField textField_search = new JTextField(10);
        JButton buttonFind = new JButton("æŸ¥æ‰¾ä¸‹ä¸€ä¸ª");
        buttonFind.setBackground(Color.cyan);
        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 5, 5));
        JPanel panel1 = new JPanel(new BorderLayout());
        JPanel panel2 = new JPanel(new FlowLayout(FlowLayout.CENTER, 5, 5));
        panel.add(label_search);
        panel2.add(buttonFind);
        panel1.add(panel, BorderLayout.NORTH);
        panel1.add(panel2, BorderLayout.SOUTH);
        panel1.add(textField_search, BorderLayout.CENTER);
        jDialog_search.add(panel1);
        jDialog_search.setVisible(true);

        // æŸ¥æ‰¾ä¸‹ä¸€ä¸ªæŒ‰é’®ç›‘å¬å™¨
        buttonFind.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                String findText = textField_search.getText();       // æŸ¥æ‰¾çš„å­—ç¬¦ä¸²
                String textArea = MainPanel.jTextArea.getText();              // å½“å‰æ–‡æœ¬æ¡†çš„å†…å®¹
                start = textArea.indexOf(findText, end);
                end = start + findText.length();
                // æ²¡æœ‰æ‰¾åˆ°
                if (start == -1)
                {
                    Toolkit.getDefaultToolkit().beep();
                    JOptionPane.showMessageDialog(null,
                            "å·²ç»åˆ°è¾¾æ–‡æ¡£å°¾éƒ¨", "æç¤º", JOptionPane.WARNING_MESSAGE);
                    MainPanel.jTextArea.select(start, end);
                    start = 0;
                    end = 0;
                }
                else                                                //æ‰¾åˆ°äº†
                {
                    MainPanel.jTextArea.requestFocus();     //è¯·æ±‚æ­¤Componentè·å–è¾“å…¥ç„¦ç‚¹
                    MainPanel.jTextArea.select(start, end);
                }
            }
        });
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\UpdateStudent.java
package UI;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): UpdateStudent
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 16:10
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class UpdateStudent
{
    JDialog jDialog;
    data.Student student;

    public UpdateStudent(data.Student student)
    {
        this.student = student;

        jDialog = new JDialog(MainPanel.jFrame, "æ›´æ–°å­¦ç”Ÿä¿¡æ¯");
        int w = 300;
        int h = 200;
        int x = MainPanel.jFrame.getX();
        int y = MainPanel.jFrame.getY();
        //System.out.println(x+"  "+y);
        int width = MainPanel.jFrame.getWidth();
        int height = MainPanel.jFrame.getHeight();
        int Location_x = x + width / 2 - w / 2;
        int Location_y = y + height / 2 - h / 2;
        jDialog.setLocation(Location_x, Location_y);
        jDialog.setSize(w, h);

        JLabel jLabel_no = new JLabel("è¯·è¾“å…¥æ–°çš„å­¦ç”Ÿå­¦å·ï¼š");
        JLabel jLabel_name = new JLabel("è¯·è¾“å…¥æ–°çš„å­¦ç”Ÿå§“åï¼š");
        JTextField JTextField_no = new JTextField();
        JTextField_no.setText(String.valueOf(student.getNo()));
        JTextField JTextField_name = new JTextField();
        JTextField_name.setText(student.getName());
        JButton jButton = new JButton("ç¡®å®š");
        jButton.setBackground(Color.cyan);

        JPanel jPanel = new JPanel();
        JPanel jPanel_no = new JPanel();
        JPanel jPanel_name = new JPanel();
        jPanel.setLayout(new GridLayout(3, 1));
        //jPanel_no.setLayout(new GridLayout(1, 2));
        //jPanel_name.setLayout(new GridLayout(1, 2));
        jPanel_no.setLayout(new BorderLayout());
        jPanel_name.setLayout(new BorderLayout());

        /*
        jPanel_no.add(jLabel_no);
        jPanel_no.add(JTextField_no);
        jPanel_name.add(jLabel_name);
        jPanel_name.add(JTextField_name);
         */
        jPanel_no.add(jLabel_no, BorderLayout.WEST);
        jPanel_no.add(JTextField_no, BorderLayout.CENTER);
        jPanel_name.add(jLabel_name, BorderLayout.WEST);
        jPanel_name.add(JTextField_name, BorderLayout.CENTER);
        jPanel.add(jPanel_no);
        jPanel.add(jPanel_name);
        jPanel.add(jButton);
        jDialog.add(jPanel);

        jDialog.setVisible(true);
        //jDialog.dispose();

        jButton.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                UpdateStudent.this.addStudent(JTextField_no, JTextField_name);
            }
        });
    }

    private void addStudent(JTextField JTextField_no, JTextField JTextField_name)
    {
        long no = -1;
        String name;
        try
        {
            no = Long.parseLong(JTextField_no.getText());
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸æ˜¯longå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        name = JTextField_name.getText();

        if (no == -1)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„å­¦å·ä¸º-1ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (name == null)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å§“åä¸ºç©ºï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        if (name.equals(""))
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "å§“åä¸ºç©ºï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        boolean result = MainPanel.function.updateStudent(no, name, student.getNo());
        if (!result)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æ›´æ–°å¤±è´¥ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
        }
        else
        {
            MainPanel.jTextArea.setText(MainPanel.function.getStudentInformation());
            io.Student.write();
            jDialog.dispose();
        }
    }
}
ÿ
H:\³ÌĞò\´óÈıº®¼Ù\javaÊµÏÖ¼òµ¥µÄ³É¼¨¹ÜÀí\\src\\main\\java\\UI\\UpdateStudentScore.java
package UI;

import data.Student;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 * Project name(é¡¹ç›®åç§°)ï¼šjavaå®ç°ç®€å•çš„æˆç»©ç®¡ç†
 * Package(åŒ…å): UI
 * Class(ç±»å): UpdateStudentScore
 * Author(ä½œè€…ï¼‰: mao
 * Author QQï¼š1296193245
 * GitHubï¼šhttps://github.com/maomao124/
 * Date(åˆ›å»ºæ—¥æœŸ)ï¼š 2022/1/15
 * Time(åˆ›å»ºæ—¶é—´)ï¼š 18:10
 * Version(ç‰ˆæœ¬): 1.0
 * Description(æè¿°)ï¼š æ— 
 */

public class UpdateStudentScore
{
    JDialog jDialog;
    data.Student student;

    public UpdateStudentScore(Student student)
    {
        this.student = student;

        jDialog = new JDialog(MainPanel.jFrame, "ä¿®æ”¹å­¦ç”Ÿ\"" + student.getName() + "\"çš„æˆç»©");
        int w = 300;
        int h = 200;
        int x = MainPanel.jFrame.getX();
        int y = MainPanel.jFrame.getY();
        //System.out.println(x+"  "+y);
        int width = MainPanel.jFrame.getWidth();
        int height = MainPanel.jFrame.getHeight();
        int Location_x = x + width / 2 - w / 2;
        int Location_y = y + height / 2 - h / 2;
        jDialog.setLocation(Location_x, Location_y);
        jDialog.setSize(w, h);

        JLabel jLabel_subject = new JLabel("è¯·è¾“å…¥ç§‘ç›®ï¼š");
        JLabel jLabel_score = new JLabel("è¯·è¾“å…¥åˆ†æ•°ï¼š");
        JTextField JTextField_subject = new JTextField();
        JTextField JTextField_score = new JTextField();
        JButton jButton = new JButton("ç¡®å®š");
        jButton.setBackground(Color.cyan);

        JPanel jPanel = new JPanel();
        JPanel jPanel_no = new JPanel();
        JPanel jPanel_name = new JPanel();
        jPanel.setLayout(new GridLayout(3, 1));
        //jPanel_no.setLayout(new GridLayout(1, 2));
        //jPanel_name.setLayout(new GridLayout(1, 2));
        jPanel_no.setLayout(new BorderLayout());
        jPanel_name.setLayout(new BorderLayout());

        /*
        jPanel_no.add(jLabel_no);
        jPanel_no.add(JTextField_no);
        jPanel_name.add(jLabel_name);
        jPanel_name.add(JTextField_name);
         */
        jPanel_no.add(jLabel_subject, BorderLayout.WEST);
        jPanel_no.add(JTextField_subject, BorderLayout.CENTER);
        jPanel_name.add(jLabel_score, BorderLayout.WEST);
        jPanel_name.add(JTextField_score, BorderLayout.CENTER);
        jPanel.add(jPanel_no);
        jPanel.add(jPanel_name);
        jPanel.add(jButton);
        jDialog.add(jPanel);

        jDialog.setVisible(true);
        //jDialog.dispose();

        jButton.addActionListener(new ActionListener()
        {
            @Override
            public void actionPerformed(ActionEvent e)
            {
                UpdateStudentScore.this.update(JTextField_subject, JTextField_score);
            }
        });
    }

    private void update(JTextField JTextField_subject, JTextField JTextField_score)
    {
        String subject;
        float score;
        try
        {
            score = Float.parseFloat(JTextField_score.getText());
        }
        catch (Exception e)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„åˆ†æ•°ä¸æ˜¯floatå‹ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        subject = JTextField_subject.getText();
        if (score < 0)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "è¾“å…¥çš„åˆ†æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
            return;
        }
        boolean result = MainPanel.function.updateStudentScore(student.getNo(), subject, score);
        if (!result)
        {
            Toolkit.getDefaultToolkit().beep();
            JOptionPane.showMessageDialog(null, "æˆç»©ä¿®æ”¹å¤±è´¥ï¼", "æç¤º", JOptionPane.ERROR_MESSAGE);
        }
        else
        {
            JTextField_subject.setText("");
            JTextField_score.setText("");
            MainPanel.jTextArea.setText(MainPanel.function.getStudentInformation());
            io.Student.write();
        }
    }
}
ÿ
